<app-main-component *ngIf="processes$ | async as processes">

  <div class="c-section-header">
    <header class="c-section-header__title">
      <h4 class="c-section-header__caption u-margin-right-small">Moje procesy</h4>
      <button mat-icon-button color="accent" matTooltip="Nowy proces" (click)="onCreateProcess()" tabindex="-1">
        <mat-icon>playlist_add</mat-icon>
      </button>

      <!-- <div class="c-title__actions-right o-block o-block--right">
      <a mat-button color="accent" (click)="onCreateProcess()">
        <mat-icon class="u-margin-right-tiny">playlist_add</mat-icon>
        Nowy process
      </a>
    </div> -->
    </header>
  </div>

  <mat-nav-list class="u-margin-bottom-large">
    <h3 matSubheader>Aktualne procesy</h3>
    <ng-container *ngFor="let process of processes">
      <a mat-list-item role="button" [routerLink]="['/processes/', process.key]">
        <span class="mat-list-icon">
          <img src="../../../assets/images/{{ process.image }}" alt="logo" style="width: 64px;">
        </span>
        <span matLine>
          {{ process.name }}</span>
        <span matLine>Postęp {{ process.progress || '0'}}%</span>
        <button mat-icon-button>
          <mat-icon>keyboard_arrow_right</mat-icon>
        </button>
        <!-- <button mat-button color="accent">
            OTWÓRZ
          </button> -->
      </a>
      <mat-divider></mat-divider>
    </ng-container>
    <a mat-list-item role="button" color="primary" (click)="onCreateProcess()">
      <span class="mat-list-icon u-is-empty">
        <mat-icon>playlist_add</mat-icon>
      </span>
      <span matLine>Nowy process</span>
      <button mat-icon-button>
        <mat-icon>keyboard_arrow_right</mat-icon>
      </button>
    </a>
  </mat-nav-list>

  <router-outlet></router-outlet>
</app-main-component>